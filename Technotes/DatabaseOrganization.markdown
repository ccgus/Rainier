# Database Organization

Rainier uses multiple databases. You can create a path to any object in a database like this:

`[database name].someTable.someSubtable.someValue`

Here’s a path to a value in the system database:

`system.environment.OSVersion`

Let’s say you’ve created a Rainier suite. Suites are databases that contain scripts and resources (possibly even a menu). They’re mini-apps that run in Rainier.

Let’s say your suite is called `CatMapper`, because it’s all about maintaining a map of the cats who live in your neighborhood.

The suite would live in a database called `CatMapper.rainier`. Let’s say it has a top-level script called `showCatsOnMap`. A path to that script would look like…

`CatMapper.showCatsOnMap`

…and if you were calling that script from another script, you’d write something like `CatMapper.showCatsOnMap()`.

In other words, databases become top-level tables, where the table name is the name of the database file on disk (minus the `.rainier` file extension.)


## Where databases are stored

Databases are stored by default in `~/Documents/Rainier/`. They don’t *have* to live there though — you can open a database from anywhere on your Mac.

On startup, Rainier opens all the databases in `~/Documents/Rainier/`. If you have opened databases from any other location, it remembers and opens them too.

You can see the list of databases in Rainier’s left-hand sidebar.

## Special Read-Only Databases

There are three special databases that are generated by Rainier itself. These are read-only, and they may not have a corresponding database file on disk.

* system: Contains the standard library, constants, and resources.
* examples: a few sample scripts plus examples of the data types Rainier supports.
* temp: an in-memory table, empty by default, that you can use for temporary storage. Its contents are forgotten between runs of the app.
* Rainier: a database that contains scripts that the app itself uses, but that aren’t necessary for supporting the language. (For instance, many of Rainier’s menu items execute scripts here.)

## Other Required Databases

### workspace

The workspace table lives in `workspace.rainier` in the `~/Documents/Rainier/` folder.

This is used for one-off scripts, for playing, for working on things before they rise to the level of needing to be their own suite.

### user

Suites and scripts quite often need to store some user data. The place for this is the `user` table, which lives in `user.rainier` in `~Documents/Rainier/`.

When using the user table, it’s best to create a subtable for the information you want to store. For instance, the `CatMapper` suite might want to store the user’s location. It would create a table at `user.CatMapper` (using the same name as the suite’s database name). It might then create `user.CatMapper.longitude` and `user.CatMapper.latitude`, for instance.

Some suites might need to store a *lot* of data — an RSS reader, for instance, might store many thousands of articles. In cases like this, the `user` table is not a good place.

Instead, create a separate database for that data (which you can do easily in a script). If `CatMapper` needed a separate database for user data, it would create a database named `CatMapperUserData.rainier`, and it would store data inside the `CatMapperUserData` table.

